---
title: The middleware didn't return a Response.
i18nReady: true
githubURL: https://github.com/withastro/astro/blob/main/packages/astro/src/core/errors/errors-data.ts
---

> **MiddlewareNoDataOrNextCalled**: 确保你的中间件直接返回 `Response` 对象，或者通过调用 `next`函数返回 `Response`。

## 哪里发生了错误？

当中间件没有返回任何数据或者没有调用 `next` 函数时，抛出此错误。

例如：

```ts
import { defineMiddleware } from "astro:middleware";
export const onRequest = defineMiddleware((context, _) => {
 // 没有返回任何数据或者调用 `next`
 context.locals.someData = false;
});
```
